# Active Context

## Current Focus

- **Documentation Review & Update:** The primary focus is to ensure all memory bank documentation is fully up to date, reflecting the latest features, architecture, and workflow. This includes the new export functionality, enhanced database management, and finalized workflow design.
- **Feature Freeze:** All core features (download, audio extraction, transcription, diarization, correction, summarization, database management, export) are implemented and stable. The system is in a documentation and validation phase.
- **Robustness & Usability:** The workflow is being reviewed for robustness, clarity, and ease of use, both in CLI and GUI modes.

## Recent Changes

- **Export Feature Added:** Users can now export video metadata, transcripts, and summaries from the database to CSV or JSON Lines format via both CLI and GUI. Export logic is streaming/chunked for large datasets.
- **Database Management Enhanced:** Both CLI and GUI support status viewing, error listing, retrying failed items, deleting records (with optional file deletion), and detailed inspection of video records.
- **Summarization Integrated:** Summarization is now a core part of the processing pipeline, with results stored in the database and selectable models.
- **Improved Error Handling:** Error handling and logging have been strengthened throughout the workflow.
- **Centralized Database:** All processing status, file paths, and text content are tracked in a single SQLite database, which is the authoritative source for all data management and export operations.
- **Security & Environment:** All API keys and tokens are managed via `.env` files; no secrets are hardcoded.

## Next Steps

- **Finalize Documentation:** Complete the review and update of all memory bank files to ensure they accurately reflect the current, feature-complete state of the project.
- **Validation:** Confirm that the workflow is robust, user-friendly, and meets all requirements for future scaling and maintainability.
- **Minor Refinements:** Address any minor usability or documentation issues discovered during review.

## Active Decisions & Considerations

- **Export and Data Management:** The database is now the central point for all data management, including export, retry, and deletion. All new features are designed to be accessible from both CLI and GUI.
- **Extensibility:** The architecture is modular, allowing for future enhancements (e.g., new processing steps, additional export formats) without disrupting existing workflows.
- **User Experience:** Emphasis on clear error reporting, per-video logs, and transparent status tracking.

## Patterns & Preferences

- **PEP 8 Compliance:** All Python code follows PEP 8 for consistency and maintainability.
- **Per-Video Folder Structure:** All assets for a video are grouped in a single folder, with consistent naming.
- **Centralized Indexing:** The SQLite database is the single source of truth for all video processing status and content.
- **Streaming Export:** Export logic is designed to handle large datasets efficiently.

## Project Insights

- The project is now feature-complete for its initial scope.
- The memory bank is the authoritative reference for all future work and onboarding.
- The current phase is about ensuring documentation and usability are as robust as the codebase itself.
